<?xml version='1.0'?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [<!ENTITY % BOOK_ENTITIES SYSTEM "SS7_Stack_User_Guide.ent">%BOOK_ENTITIES;]>

<chapter id="design_overview">
	<title>Design Overview</title>
	<para>
  The &THIS.PLATFORM; &THIS.APPLICATION; is logically divided into two 
  sections: the upper and lower sections.
  </para>
  <para>
  The lower section includes SS7 Levels 3 and below. It is influenced by the 
  type of SS7 hardware (Level 1) used.
  </para>
  <para>
  The upper section includes SS7 Levels 4 and above. This logical division is 
  widely based on the flexibility of the &THIS.PLATFORM; &THIS.APPLICATION; to 
  allow for the usage of any SS7 hardware available in the market, while 
  &THIS.PLATFORM; &THIS.APPLICATION; Level 4 and above remains the same.
  </para>
	<important>
		<para>
    The &THIS.PLATFORM; &THIS.APPLICATION; is subject to changes as it is 
    under active development.
		</para>
	</important>
	<para>
  &THIS.PLATFORM; &THIS.APPLICATION; consists of the following functional 
  blocks:
	</para>
  <section id="design_overview_Linkset">
		<title>Linkset</title>
		<!-- XXX: this possibly should be rephrased. -->
    <para>
    A <literal>Linkset</literal> is a logical group of links between two 
    Signaling Points. This term hides the MTP layer, abstracting whether 
    hardware <literal>MTP</literal> is used, M3UA or &THIS.PLATFORM; 
    &THIS.APPLICATION;.
    </para>
    <para>
    Three type of <literal>Linkset</literal> are defined:
    </para>
    <variablelist>
      <varlistentry>
        <term><literal>DahdiLinkset</literal></term>
        <listitem>
          <para>
          This linkset is for <literal>dahdi</literal> based hardware. 
          <literal>dahdi</literal> boards only provides the SS7 MTP1 layer and 
          usually depends on external software to provide MTP2/MTP3 support.
          </para>
          <para>
          Well known <literal>dahdi</literal> based SS7 cards are 
          <literal>Diguim</literal> and <literal>Sangoma</literal>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><literal>DialogicLinkset</literal></term>
        <listitem>
          <para>
          Linkset for <literal>dialogic</literal> based hardware. 
          <literal>dialogic</literal> boards have MTP2 and MTP3 support on 
          board.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><literal>M3UALinkset</literal></term>
        <listitem>
          <para>
          M3UA stands for MTP Level 3 (MTP3) User Adaptation Layer. It is 
          defined by the IETF SIGTRAN working group in RFC 4666. 
          <literal>M3UALinkset</literal> enables the &THIS.PLATFORM; 
          &THIS.APPLICATION; Level 4 (e.g. ISUP, SCCP) to run over IP instead 
          of instead of through the SS7 network.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
    Each type of linkset has a corresponding factory. Please refer to <xref 
    linkend="configuring_LinksetFactory"/> for the list and guidelines on how 
    to configure each factory.
    </para>
    <para>
    Configuration of linkset factories is explained in section <xref 
    linkend="configuring" />.
    </para>
  </section>
  <section id="design_overview_shell">
    <title>Shell Management client</title>
    <para>
    The <literal>Shell</literal> is a Command Line Interface (CLI) tool which 
    allows users to manage different aspects of &THIS.PLATFORM; 
    &THIS.APPLICATION; in an interactive manner. It connects to different 
    instances of &THIS.PLATFORM; &THIS.APPLICATION;, which manage 
    <literal>Linksets</literal> and <literal>SCCP</literal> routing.
    </para>
    <para>
    For detailed information, please refer to <xref linkend="management" />. 
    <literal>Shell</literal> will usually be invoked from a remote machine 
    (remote to <literal>Linksets</literal> and application protocols).
    </para>
  </section>
		<!--  	
		<varlistentry>
			<term>Application</term>
			<listitem>
				<para>
					<literal>Application</literal>
					term encapsulates not only application level protocols(such as
					<literal>SCCP</literal>
					or
					<literal>ISUP</literal>
					) but also
					entities which make use of them(like
					<literal>SLEE RA &amp; Service</literal>
					)
				</para>
			</listitem>
		</varlistentry>
		-->
	<section id="design_overview_ss7_service">
		<title>SS7 Service</title>
    <para>
    The SS7 Service is an element that is used to manage 
    <literal>LinkSets</literal> and protocols like <literal>SCCP</literal>. SS7 
    service creates an instance of &THIS.APPLICATION; SCCP and binds it to the 
    JNDI name java:/mobicents/ss7/sccp
    </para>
    <para>
    The SS7 Service is a JMX based service deployed in the JBoss Application 
    Server.
    </para>
		<para>
		The diagram below depicts elements that are deployed as part of the SS7 
    Service.
		</para>
    <figure id="ss7_service">
      <title>&THIS.APPLICATION; SS7 Service elements.</title>
      <mediaobject>
        <imageobject>
          <imagedata
            width="300px"
            align="center"
            fileref="images/ss7-design-overview3.jpg"
            format="PNG" />
        </imageobject>
      </mediaobject>
    </figure>
		<para>
    The Service serves the following purposes:
    </para>
		<variablelist>
			<varlistentry>
				<term>Exposes protocol access points</term>
				<listitem>
					<para>
          Access points allows users to access lower layer protocols like 
          <literal>SCCP</literal>, and interact through such protocols with 
          the <literal>SS7</literal> network.
          </para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Exposes the management interface</term>
				<listitem>
					<para>
          The <literal>Shell Executor</literal> allows the 
          <literal>Shell</literal> client to connect and issue commands.
          </para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>Manages Linksets and their lifecycle</term>
				<listitem>
					<para>
          <literal>Linkset Manager</literal> persists linkset information and 
          manages their lifecycle, creating and activating them (also after 
          restart).
          </para>
				</listitem>
			</varlistentry>
		</variablelist>
		<para>
    Configuration of the SS7 Service is explained in <xref 
    linkend="configuring" />.
    </para>
	</section>
	<section id="mobicents_design_overview_ss7_service">
		<title>&THIS.PLATFORM; &THIS.APPLICATION; Usage</title>
		<para>
    The diagram below depicts how &THIS.PLATFORM; &THIS.APPLICATION; is used:
		</para>
    <figure id="ss7_design_general_2">
      <title>&THIS.PLATFORM; &THIS.APPLICATION; General Design</title>
      <mediaobject>
        <imageobject>
          <imagedata
            width="300px"
            align="center"
            fileref="images/ss7-design-overview2.jpg"
            format="PNG" />
        </imageobject>
      </mediaobject>
    </figure>
  </section>
</chapter>
