<?xml version='1.0'?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [<!ENTITY % BOOK_ENTITIES SYSTEM "USSD_Simulator_User_Guide.ent">%BOOK_ENTITIES;]>

<chapter id="running">

	<title>Running the Example</title>
	
	<para>Follow instructions below to run &THIS.APPLICATION; with &THIS.PLATFORM; <acronym>USSD</acronym> gateway:</para>
	<procedure>
		<step>
			<title>Setup &THIS.PLATFORM; <acronym>USSD</acronym> gateway</title>
			<para>Follow instructions in &THIS.PLATFORM; <acronym>USSD</acronym> gateway documentation to set it properly.</para>
			<para>Set up consumer of messages. &THIS.PLATFORM; provides such examples. Please refer to examples list and documentation.</para>
		</step>
		<step>
			<title>Checkout and build</title>
			<para>Checkout &THIS.APPLICATION; source and build it. Follow instructions found in <xref linkend="setup"/> </para>
		</step>
		<step>
			<title>Start &THIS.APPLICATION;</title>
			<programlisting>
			    [usr]$ cd &THIS.APPLICATION.DIRNAME;-&THIS.VERSION;
			    [usr]$ cd simulator
			    [usr]$ bin/run.sh
			</programlisting>
		</step>
		<step>
			<title>
			Start streaming server.
			</title>
			<para>
				Put proper <acronym>IP</acronym> and port in text field( values should match those set used to setup <acronym>USSD</acronym> gateway)
			</para>
			<para>Start streaming server (<acronym>M3UserAgent</acronym>) with <guibutton>Open server</guibutton> button. </para>
		</step>
		<step>
			<title>Await connection</title>
			<para>Wait until simulators <acronym>SS7</acronym> is connected to remote peer.</para>
		</step>
		<step>
			<title>Start <acronym>USSD</acronym> Dialog</title>
			<para>Start call to <acronym>USSD</acronym> gateway and continue dialog. Gateway has preconfigured rule for <acronym>USSD</acronym> number <literal>*123#</literal>.
			Images below show example call: </para>
			<mediaobject id="ussd_simulator_call_1">
				<imageobject>
					<imagedata width="300px" align="center"
					fileref="images/ussd-simulator-call1.png" format="PNG" />
				</imageobject>
				<caption>
					<para>&THIS.PLATFORM; &THIS.APPLICATION; example call
					</para>
				</caption>
			</mediaobject>
			<mediaobject id="ussd_simulator_call_2">
				<imageobject>
					<imagedata width="300px" align="center"
					fileref="images/ussd-simulator-call2.png" format="PNG" />
				</imageobject>
				<caption>
					<para>&THIS.PLATFORM; &THIS.APPLICATION; example call
					</para>
				</caption>
			</mediaobject>
			<mediaobject id="ussd_simulator_call_3">
				<imageobject>
					<imagedata width="300px" align="center"
					fileref="images/ussd-simulator-call3.png" format="PNG" />
				</imageobject>
				<caption>
					<para>&THIS.PLATFORM; &THIS.APPLICATION; example call
					</para>
				</caption>
			</mediaobject>

		</step>
	</procedure> 
	
</chapter>

